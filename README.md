# 抖音风格视频App

# 抖音风格视频播放器

这是一个基于Python和VLC的抖音风格视频播放器，支持在线视频播放、自动缓存和连续播放功能。

## 功能特性

- 📹 **视频播放**：支持播放在线视频，通过VLC提供高质量播放体验
- 🚀 **自动缓存**：后台自动缓存视频，确保流畅的观看体验
- ⏭️ **连续播放**：视频播放结束后自动播放下一个视频
- 🎛️ **播放控制**：支持播放/暂停、停止、音量调节、进度控制
- 🎨 **用户友好界面**：简洁直观的UI设计，支持中文显示

## 技术栈

- **Python 3.11+**：主要开发语言
- **tkinter**：用户界面框架
- **python-vlc**：视频播放引擎
- **requests**：API请求处理
- **threading**：后台任务管理
- **logging**：日志记录

## 安装指南

### 1. 安装Python

确保您的系统安装了Python 3.11或更高版本。

### 2. 安装依赖

```bash
pip install -r requirements.txt
```

### 3. 安装VLC播放器

请从[VLC官网](https://www.videolan.org/vlc/)下载并安装VLC播放器。

## 使用方法

### 启动应用程序

```bash
python main_window.py
```

### 首次运行配置

1. **设置VLC路径**：首次运行时，应用程序会提示您设置VLC播放器的安装路径
   - 默认路径通常为：`C:\Program Files\VideoLAN\VLC` 或 `C:\Program Files (x86)\VideoLAN\VLC`
   - 您也可以通过"文件" -> "设置VLC路径"菜单手动配置

2. **配置API**：通过"工具" -> "设置API"菜单，您可以配置：
   - 重试次数：API请求失败后的重试次数
   - API切换阈值：触发API切换的失败次数阈值

### 基本操作

- **播放/暂停**：点击"播放"按钮
- **停止**：点击"停止"按钮
- **下一个视频**：点击"下一个"按钮
- **音量调节**：拖动音量滑块
- **进度控制**：拖动进度条
- **打开本地文件**：通过"文件" -> "打开文件"菜单

### 缓存管理

- **查看缓存状态**：通过"工具" -> "查看缓存状态"菜单
- **清理缓存**：通过"工具" -> "清理缓存"菜单

## 项目结构

- `main_window.py`: 应用主程序，包含GUI界面和主逻辑
- `api_service.py`: API服务模块，负责获取视频链接
- `cache_manager.py`: 缓存管理模块，负责视频下载和缓存管理
- `playback_controller.py`: 播放控制模块，负责视频播放、暂停、停止等操作
- `requirements.txt`: 项目依赖
- `cache/`: 视频缓存目录
- `docs/`: 项目文档目录

## 注意事项

1. 应用程序默认使用示例API地址，实际使用时需要在`api_service.py`文件中修改为真实的API地址
2. 缓存文件存储在应用程序目录下的`cache`文件夹中
3. 如果遇到VLC初始化失败，请检查VLC安装是否正确，并确保路径配置正确
4. 应用程序在后台会自动缓存视频，确保流畅的观看体验

## 常见问题

### Q: VLC播放器初始化失败怎么办？
A: 请确保已正确安装VLC播放器，并通过菜单设置正确的VLC安装路径。

### Q: 无法获取视频怎么办？
A: 请检查网络连接，并确保API地址配置正确。

### Q: 缓存占用过多磁盘空间怎么办？
A: 您可以通过"清理缓存"功能删除所有缓存文件。

## 许可证

[MIT License](LICENSE)

## 关于

这是一个抖音风格的视频播放器，使用Python和VLC构建。如有任何问题或建议，请联系开发者。